var m=false;function o(){return function(){}}
(function(){function a(k){var f,i,l,b,e,j;l=k.length;i=0;for(f="";i<l;){b=k.charCodeAt(i++)&255;if(i==l){f+=g.charAt(b>>2);f+=g.charAt((b&3)<<4);f+="==";break}e=k.charCodeAt(i++);if(i==l){f+=g.charAt(b>>2);f+=g.charAt((b&3)<<4|(e&240)>>4);f+=g.charAt((e&15)<<2);f+="=";break}j=k.charCodeAt(i++);f+=g.charAt(b>>2);f+=g.charAt((b&3)<<4|(e&240)>>4);f+=g.charAt((e&15)<<2|(j&192)>>6);f+=g.charAt(j&63)}return f}function h(k){var f,i,l,b,e;b=k.length;l=0;for(e="";l<b;){do f=n[k.charCodeAt(l++)&255];while(l<
b&&f==-1);if(f==-1)break;do i=n[k.charCodeAt(l++)&255];while(l<b&&i==-1);if(i==-1)break;e+=String.fromCharCode(f<<2|(i&48)>>4);do{f=k.charCodeAt(l++)&255;if(f==61)return e;f=n[f]}while(l<b&&f==-1);if(f==-1)break;e+=String.fromCharCode((i&15)<<4|(f&60)>>2);do{i=k.charCodeAt(l++)&255;if(i==61)return e;i=n[i]}while(l<b&&i==-1);if(i==-1)break;e+=String.fromCharCode((f&3)<<6|i)}return e}var g="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,
-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,-1,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,-1,-1,-1,-1,-1];if(!window.btoa)window.btoa=a;if(!window.atob)window.atob=h})();
var q=function(){function a(b,e,j){if(e&&j){var c=document.createElement("canvas");c.width=e;c.height=j;c.style.width=e+"px";c.style.height=j+"px";c.getContext("2d").drawImage(b,0,0,b.width,b.height,0,0,e,j);return c}return b}function h(b){var e=document.createElement("img");e.src=b;return e}function g(b){var e="";if(typeof b=="string")e=b;else for(var j=0;j<b.length;j++)e+=String.fromCharCode(b[j]);return btoa(e)}var n=m,k=document.createElement("canvas");if(k.getContext("2d"))n=true;if(!n)return{A:o(),
n:o(),B:o()};var f=!!k.getContext("2d").getImageData,i=!!k.toDataURL,l=!!window.btoa;return{n:function(b,e,j,c){if(!i)return m;b=a(b,j,c).toDataURL("image/png");if(e)return h(b);else{e=b.replace("image/png","image/octet-stream");document.location.href=e}return true},B:function(b,e,j,c){if(!i)return m;b=a(b,j,c).toDataURL("image/jpeg");if(b.indexOf("image/jpeg")!=5)return m;if(e)return h(b);else{e=b.replace("image/jpeg","image/octet-stream");document.location.href=e}return true},A:function(b,e,j,c){if(!(f&&
l))return m;b=a(b,j,c);j=parseInt(b.width);c=parseInt(b.height);var p=b.getContext("2d").getImageData(0,0,j,c);b=[];j=p.width;var t=p.height;b.push(66);b.push(77);c=j*t*3+54;b.push(c%256);c=Math.floor(c/256);b.push(c%256);c=Math.floor(c/256);b.push(c%256);c=Math.floor(c/256);b.push(c%256);b.push(0);b.push(0);b.push(0);b.push(0);b.push(54);b.push(0);b.push(0);b.push(0);c=[];c.push(40);c.push(0);c.push(0);c.push(0);var d=j;c.push(d%256);d=Math.floor(d/256);c.push(d%256);d=Math.floor(d/256);c.push(d%
256);d=Math.floor(d/256);c.push(d%256);d=t;c.push(d%256);d=Math.floor(d/256);c.push(d%256);d=Math.floor(d/256);c.push(d%256);d=Math.floor(d/256);c.push(d%256);c.push(1);c.push(0);c.push(24);c.push(0);c.push(0);c.push(0);c.push(0);c.push(0);d=j*t*3;c.push(d%256);d=Math.floor(d/256);c.push(d%256);d=Math.floor(d/256);c.push(d%256);d=Math.floor(d/256);c.push(d%256);for(d=0;d<16;d++)c.push(0);d=(4-j*3%4)%4;p=p.data;var C="";do{for(var r=j*(t-1)*4,u="",x=0;x<j;x++){var y=4*x;u+=String.fromCharCode(p[r+
y+2]);u+=String.fromCharCode(p[r+y+1]);u+=String.fromCharCode(p[r+y])}for(r=0;r<d;r++)u+=String.fromCharCode(0);C+=u}while(--t);b=g(b.concat(c))+g(C);if(e)return h("data:image/bmp;base64,"+b);else document.location.href="data:image/octet-stream;base64,"+b;return true}}}();function s(){typeof window.console!="undefined"&&window.console.log("DEBUG:",arguments)}function v(a,h){return function(){h.apply(a,arguments)}}
function w(a){a+="";var h=a.split(".");a=h[0];h=h.length>1?"."+h[1]:"";for(var g=/(\d+)(\d{3})/;g.test(a);)a=a.replace(g,"$1,$2");return a+h}function z(a){this.r=a;this.j=[]}function A(a,h){a.j.push(h)}function B(a,h){for(var g=0;g<a.j.length;++g)a.j[g](a.r,h)}
function D(a){this.target=a;this.C=new z(this);this.l=new z(this);if(typeof window.FileReader=="undefined"){alert("Your browser doesn't support the new File API :(\n\nTry Chrome or Firefox 3.6+");return m}this.b=new FileReader;a.addEventListener("dragenter",v(this,this.t),m);a.addEventListener("dragover",v(this,this.u),m);a.addEventListener("drop",v(this,this.s),m)}D.prototype.t=function(a){a.stopPropagation();a.preventDefault()};D.prototype.u=function(a){a.stopPropagation();a.preventDefault()};
D.prototype.s=function(a){a.stopPropagation();a.preventDefault();a=a.dataTransfer.files[0];delete this.b.result;this.b=new FileReader;this.b.onprogress=v(this,this.z);this.b.onerror=v(this,this.v);this.b.onload=v(this,this.w);this.b.readAsBinaryString(a)};D.prototype.v=o();D.prototype.z=o();D.prototype.w=function(a){B(this.l,a.target.result);$("#instructions").fadeOut(300)};
function E(a,h){this.c=0;this.data=m;this.canvas=a;this.offset={x:0,y:0};this.a=a.getContext("2d");this.f=[];this.f[0]=new Image;this.f[0].src="img/0.png";this.f[1]=new Image;this.f[1].src="img/1.png";this.m=new z(this);this.k=new z(this);var g=this;A((new D(h)).l,function(n,k){g.canvas.width=g.canvas.width;g.offset.x=0;g.offset.y=0;g.data=k;g.c=0;B(g.m)})}
E.prototype.resize=function(a,h){this.width=a;this.height=h;this.offset.x=0;this.offset.y=0;this.cols=Math.floor(a/15);this.rows=Math.floor(h/15)};
E.prototype.h=function(){if(this.data)for(var a=0;a<3;++a){this.a.save();this.a.translate(this.offset.x,this.offset.y);this.a.clearRect(0,0,15,15);if(this.c<this.data.length){var h,g,n,k=this.data[this.c].charCodeAt(0);delete this.data[this.c];for(var f=0,i=7;f<9;++f,--i){h=(k&1<<i)>>i;g=Math.floor(Math.floor(f%3)*5);n=Math.floor(Math.floor(f/3)*5);this.a.drawImage(this.f[h],g,n)}this.a.fillStyle="rgba(0,0,0,1)";this.a.fillRect(20,0,15,15);this.a.restore();this.offset.x+=20;if(this.offset.x>=this.width){this.offset.x=
0;this.offset.y+=20;if(this.offset.y>this.height)this.offset.y=0}$("#info").text("Byte "+w(this.c+1)+" of "+w(this.data.length));this.c++}else{s("Complete!");B(this.k);break}}};
function F(){this.o=1E3/60;this.e=m;this.d=document.getElementById("canvas");this.q=document.getElementById("overlay");this.g=new E(this.d,this.q);this.p=v(this,this.h);A(this.g.m,v(this,this.start));A(this.g.k,v(this,this.stop));$(window).resize(v(this,this.resize));G(this);this.i=$("<form>");this.i.attr("method","post");this.i.attr("action","download.php");this._data=$("<input>");this._data.attr("type","hidden");this._data.attr("name","data");this.i.append(this._data);this.resize()}
function G(a){$("#save").click(function(){q.n(a.d);return m});$("#play").click(function(){if(a.e){$(this).text("play");a.stop()}else{$(this).text("pause");a.start()}return m})}F.prototype.resize=function(){var a=$(window).width()-20,h=$(window).height()-$("header").height()-20;a=Math.floor(a/20)*20;h=Math.floor(h/20)*20;this.d.width=a;this.d.height=h;$(this.d).css("margin",($(window).width()-a)*0.5);this.g.resize(a,h)};F.prototype.start=function(){if(!this.e){this.e=true;this.h()}};
F.prototype.stop=function(){this.e=m};F.prototype.h=function(){if(this.e){this.g.h();setTimeout(this.p,this.o)}};$(document).ready(function(){new F});